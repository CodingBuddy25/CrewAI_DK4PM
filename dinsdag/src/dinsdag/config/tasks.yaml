planner_agent_task:
  description: >
    Conduct a thorough research to answer the main question: answer the main question: {main_question}. Make sure that the result combines the {process} with the {company}. 
        Do this by following these steps:
        Decompose the main question into 2-4 subquestions which require domain knowledge to answer. The answer to these 
        subquestions will later be combined to form the final answer.
  expected_output: >
    A plan of action for the answering of the main question. This involves the decomposition of the prompt with 
    subquestions. These subquestions need to be clear and be able to be passed as a prompt.
  agent: planner_agent

Worker_agent_task:
  description: >
    Answer the main question: {main_question}.
    Run the process_discovery_tool ONCE, if it has already been called before in another run of the Worker_agent, do NOT call it again. Pass the focus:{focus} and filename:{filename} as string inputs for the tool in that order. Use the output to analyse the important parts of the process. 
    Use the research_tool to answer the subquestions from the planner_agent and make sure that the research has many references. You can call the research tool at most four times with different subquestions.
  expected_output: >
    A thorough research with many references, expecting at least 20 full references. The main question is answered.
  agent: Worker_agent

writing_task:
  description: >
    Review the results from all agents and weave them together into a coherent report to answer the main question: {main_question}. Make sure that the result combines the {process} with the {company} with the steps from the result of the PM_agent analysis / PM_diagnostic task. 
    You may leave out information that seems irrelevant. Provide links for references if possible.     Use at least 20 relevant references in the paper (if possible) and at most 40 references. Use the writing_file_tool and save the response.

  expected_output: >
    Formatted as markdown without '```'. 
    You can combine the knowledge and weave them into a well-analysed report 
    and it is extremely important that every paragraph links to a process from 
    the outputs PM_diagnostic and the PM_agent, and reference to the particular step that you are talking about 
    using the format 'Send Purchase Order -> Receive Goods'. Analyse at least 5 of these steps.  It is important that 
    in every paragraph you fully reference to at least one source link from the research agents AND to a relevant step from the results of the PM_agent / the PM diagnostic task.
    Have a direct link to the references in every paragraph and also make references at the bottom of the report.
    Add an overview of all the used references at the bottom of the report in this format:
    ## References

    - [https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8437773/](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8437773/)
    - [https://www.capgemini.com/wp-content/uploads/2017/07/streamlining-the-order-to-cash-process.pdf](https://www.capgemini.com/wp-content/uploads/2017/07/streamlining-the-order-to-cash-process.pdf)
    - [https://www.mckinsey.com/capabilities/operations/our-insights/a-practical-approach-to-supply-chain-risk-management](https://www.mckinsey.com/capabilities/operations/our-insights/a-practical-approach-to-supply-chain-risk-management)
    - [https://www.mckinsey.com/industries/consumer-packaged-goods/our-insights/cpg-operations-how-to-win-in-a-rapidly-changing-environment](https://www.mckinsey.com/industries/consumer-packaged-goods/our-insights/cpg-operations-how-to-win-in-a-rapidly-changing-environment)

  agent: writing_agent
